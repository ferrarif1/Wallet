{"ast":null,"code":"import { encrypt } from 'eccrypto';\nimport { decompress } from './public-key';\nexport default function encryptWithPublicKey(publicKey, message, opts) {\n  // ensure its an uncompressed publicKey\n  publicKey = decompress(publicKey); // re-add the compression-flag\n\n  var pubString = '04' + publicKey;\n  return encrypt(Buffer.from(pubString, 'hex'), Buffer.from(message), opts ? opts : {}).then(function (encryptedBuffers) {\n    var encrypted = {\n      iv: encryptedBuffers.iv.toString('hex'),\n      ephemPublicKey: encryptedBuffers.ephemPublicKey.toString('hex'),\n      ciphertext: encryptedBuffers.ciphertext.toString('hex'),\n      mac: encryptedBuffers.mac.toString('hex')\n    };\n    return encrypted;\n  });\n}","map":{"version":3,"names":["encrypt","decompress","encryptWithPublicKey","publicKey","message","opts","pubString","Buffer","from","then","encryptedBuffers","encrypted","iv","toString","ephemPublicKey","ciphertext","mac"],"sources":["/Users/zhangyuanyi/Downloads/Wallet/walletdemo/node_modules/eth-crypto/dist/es/encrypt-with-public-key.js"],"sourcesContent":["import { encrypt } from 'eccrypto';\nimport { decompress } from './public-key';\nexport default function encryptWithPublicKey(publicKey, message, opts) {\n  // ensure its an uncompressed publicKey\n  publicKey = decompress(publicKey); // re-add the compression-flag\n\n  var pubString = '04' + publicKey;\n  return encrypt(Buffer.from(pubString, 'hex'), Buffer.from(message), opts ? opts : {}).then(function (encryptedBuffers) {\n    var encrypted = {\n      iv: encryptedBuffers.iv.toString('hex'),\n      ephemPublicKey: encryptedBuffers.ephemPublicKey.toString('hex'),\n      ciphertext: encryptedBuffers.ciphertext.toString('hex'),\n      mac: encryptedBuffers.mac.toString('hex')\n    };\n    return encrypted;\n  });\n}"],"mappings":"AAAA,SAASA,OAAO,QAAQ,UAAU;AAClC,SAASC,UAAU,QAAQ,cAAc;AACzC,eAAe,SAASC,oBAAoB,CAACC,SAAS,EAAEC,OAAO,EAAEC,IAAI,EAAE;EACrE;EACAF,SAAS,GAAGF,UAAU,CAACE,SAAS,CAAC,CAAC,CAAC;;EAEnC,IAAIG,SAAS,GAAG,IAAI,GAAGH,SAAS;EAChC,OAAOH,OAAO,CAACO,MAAM,CAACC,IAAI,CAACF,SAAS,EAAE,KAAK,CAAC,EAAEC,MAAM,CAACC,IAAI,CAACJ,OAAO,CAAC,EAAEC,IAAI,GAAGA,IAAI,GAAG,CAAC,CAAC,CAAC,CAACI,IAAI,CAAC,UAAUC,gBAAgB,EAAE;IACrH,IAAIC,SAAS,GAAG;MACdC,EAAE,EAAEF,gBAAgB,CAACE,EAAE,CAACC,QAAQ,CAAC,KAAK,CAAC;MACvCC,cAAc,EAAEJ,gBAAgB,CAACI,cAAc,CAACD,QAAQ,CAAC,KAAK,CAAC;MAC/DE,UAAU,EAAEL,gBAAgB,CAACK,UAAU,CAACF,QAAQ,CAAC,KAAK,CAAC;MACvDG,GAAG,EAAEN,gBAAgB,CAACM,GAAG,CAACH,QAAQ,CAAC,KAAK;IAC1C,CAAC;IACD,OAAOF,SAAS;EAClB,CAAC,CAAC;AACJ"},"metadata":{},"sourceType":"module"}